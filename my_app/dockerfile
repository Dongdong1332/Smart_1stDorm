# ???w?@?????M????
FROM python:3.9-alpine

# ?b?e???????@????
RUN mkdir /app

# ???w?u?@?????/app
WORKDIR /app

# ?N???a???????s??e??????/app???
COPY . /app

# ??s?w??M??
RUN apk update && \
    apk add --no-cache build-base && \
    apk add --no-cache go && \
    pip install RPi.GPIO && \
    apk del build-base

# ?w?? pyserial ?M??
RUN pip install --upgrade pip
RUN pip install pyserial
RUN pip install requests
RUN pip install RPi.GPIO
RUN pip install luma.led_matrix

# ?N?n???��?R?O?g?b?@??shell?}?????
COPY run.sh /app
RUN chmod +x /app/run.sh

# ?]?w????h??R?O
ENTRYPOINT ["/app/run.sh"]

# ??~???S?e???? 8080 port
EXPOSE 8080
